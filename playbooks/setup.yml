- name: Setup Development Environment
  hosts: local-machines
  # hosts: dev-debian
  become: true
  vars:
    gui: false
  roles:
    - apt-update
    - setup-snap
    - setup-flatpak
    - setup-homebrew
    - rust
    - python3
    - git
    - role: fish
      vars:
        fish_bw_session: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66326232366433656435353739666230386432336530636432303339343636393335316164363536
          3334653965383339373364396564303439356663373239660a633764393130313661376138336366
          34333661393462643736363039626661643761646166376361343839326366653136336339613133
          3931356339663562620a333263613762366639613563613830366562363230623062396431656264
          35313832636266346661363132396439666361366536366464306665326261616230363230393063
          32646466616162336437623339333261333865633331383232386536623835616132633936626436
          32343932326364373764383435353032336564346233393164336536343066633961313562313864
          38653263363131353238623662653361653063376630356438316230373631393033323366636631
          6637
        github_user: winetree94
        github_pat: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64376632366332346535633133303431333965623434643165316537616139306265636236633165
          6435613066616666663663613235323266306133366465330a316638633466633431653864613663
          34613462326637363461383665383730333232323466663962613933326563346164623137343739
          3932643963376630660a626639656337313365663231343335356433393563663536363366623164
          61343963636433646338656633393766316138373637643463386431303866626138313261653033
          6431643630346438336533386535343134333537643135366130
        openai_api_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66623438373335613130653563666434383439376636366138396561383265643733616635616131
          3238613334313732306439626439386335646361363837370a663939613631313563646332336264
          31343039333961646565353361376136376564326639636661616435316636383134346334373265
          6335633964383766660a386364623831353164353363346263646562333034663935393331623662
          39623236663663303334323634343331653164623730333065383630363364666166383233386561
          36653963336632333235616437323966326635623933303338343232336233356636323962386234
          30316363356239303332323661396539393330353132623330646566663065383831383134633733
          35373162326532666566666336356237636232396266393339646261316139643239386563666534
          65626431323134373532643534643062666230336233306134633431643230653331313262356433
          63316435323634396333616434613461623238333232633835303830613561373432303332356230
          636335346664323438643963393061663231
        gemini_api_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36313839313732316532666662333261373132393637303831663834303130616137313539373436
          6261643034336364653337336161376635316631313838360a383231303236633432366538613731
          61623335326635306636376265306665323761353361393333613331643837663464663166383439
          3361343630303965310a383837653532666136363466656530343731393234313937363633646538
          32383862303763366639633866623332326663666166663632396166626230663532656332316263
          3637636663356561653062343938646533303636316563393961
    - ssh
    - tmux
    - bw
    - ansible
    - kubectl
    - nvim
    - role: node
      vars:
        node_version: "20.19.0"
    - docker
    - dotconfig
    - role: gui-apps
      when: gui
  tasks:
    - name: Print message
      ansible.builtin.debug:
        msg: |
          user: {{ lookup('ansible.builtin.env', 'USER') }} \n
          home: {{ lookup('ansible.builtin.env', 'HOME') }}
